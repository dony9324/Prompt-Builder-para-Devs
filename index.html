<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Builder for Devs | MVP</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="main-header">
        <h1><span>Prompt</span>Builder <span></span></h1>
        <div class="header-actions">
            <button id="open-help" class="btn btn-outline">â“ Instrucciones</button>
            <button id="gist-save" class="btn btn-outline">â˜ Guardar en Gist</button>
            <button id="gist-load" class="btn btn-outline">â¬‡ Restaurar</button>
            <button id="export-json" class="btn btn-outline">â¬‡ Exportar</button>
            <button id="import-json" class="btn btn-outline">â¬† Importar</button>
            <input type="file" id="import-file" accept="application/json" hidden />
            <button id="save-combination" class="btn btn-accent">ğŸ’¾ Guardar CombinaciÃ³n y Entrenar</button>
            <button id="clear-all" class="btn btn-danger">Limpiar Todo</button>
            <button id="reset-app" class="btn btn-outline">Reset</button>
        </div>
    </header>

    <main class="app-container">
        <aside class="sidebar">
            <input
  type="text"
  id="block-search"
  placeholder="Buscar bloques..."
  class="block-search"
/>
            <h2>LibrerÃ­a de Bloques 
                <span id="total-blocks-count" class="count-badge">0</span>
            </h2>
             <div id="taxonomy-nav" class="tabs">
       
    </div>
            <div id="blocks-grid" class="blocks-grid">
                <div class="block-card" onclick="toggleBlock('b1')">
            <strong>Senior Architect</strong>
            <p style="font-size: 0.7rem; color: var(--text-dim); margin-top:5px">
                ActÃºa como un arquitecto frontend senior...
            </p>
        </div>
                </div>
            
        </aside>

        <section class="editor-section">
            <div class="section-header">
                <h2>Prompt Final</h2>
                <span id="selected-count" class="badge">0 bloques</span>
                <div class="actions">
                    <button id="ai-clean-btn" class="btn btn-ai">âœ¨ Limpiar y Reestructurar</button>
                    <button id="copy-btn" class="btn btn-secondary">Copiar al portapapeles</button>
                </div>
            </div>
            <textarea id="main-prompt" placeholder="Construye tu prompt haciendo click en los bloques o escribe aquÃ­..."></textarea>
        </section>
<aside class="right-column">
       
        <aside class="templates-panel">
            <div class="panel-section">
                <h3>ğŸ“š Plantillas</h3>
                <div id="templates-list" class="template-list">
                    <p class="tip">AÃºn no hay plantillas guardadas.</p>
                </div>
            </div>
        </aside>
        <aside class="side-panel">
            <div class="panel-section">
                <h3>ğŸ”® Sugerencias</h3>
                <div id="predictions" class="prediction-stack"><p class="tip">Usa bloques para generar predicciones.</p></div>
            </div>
            <div class="panel-section">
                <h3>ğŸ“Š Contexto</h3>
                <div id="active-tags" class="tag-cloud"></div>
            </div>
        </aside>
        </aside>

        <aside class="ai-tools">
            <div class="tool-card">
                <h3>DescomposiciÃ³n de CÃ³digo</h3>
                <p class="tool-desc">Pega una clase o entidad para extraer lÃ³gica.</p>
                <textarea id="code-input" placeholder="Pega tu cÃ³digo aquÃ­..."></textarea>
                <button id="deconstruct-btn" class="btn btn-primary">Descomponer CÃ³digo</button>
                <div class="result-area">
                    <label>Resultado:</label>
                    <textarea id="code-output" readonly></textarea>
                    <button id="insert-analysis-btn" class="btn btn-small">Insertar en Prompt</button>
                </div>
            </div>

            <div class="add-custom-block">
                <h3>+ Nuevo Bloque</h3>
                <select id="new-block-group">
                    <option value="Rol / Perfil">Rol / Perfil</option>
                    <option value="Objetivo / Tarea">Objetivo / Tarea</option>
                    <option value="Alcance funcional">Alcance funcional</option>
                    <option value="Plataforma / Stack">Plataforma / Stack</option>
                    <option value="Lenguaje">Lenguaje</option>
                    <option value="Componentes">Componentes</option>
                    <option value="UI / Layout">UI / Layout</option>
                    <option value="Arquitectura">Arquitectura</option>
                    <option value="Estilo visual">Estilo visual</option>
                    <option value="Restricciones">Restricciones</option>
                    <option value="Output">Output</option>
                    <option value="Complejidad">Complejidad</option>
                    <option value="Contexto">Contexto</option>
                </select>

                <input type="text" id="new-block-title" placeholder="TÃ­tulo...">
                <textarea id="new-block-content" placeholder="Contenido del bloque..."></textarea>
                <button id="add-block-btn" class="btn btn-primary">Guardar Bloque</button>
            </div>
        </aside>
    </main>
<div id="help-modal" class="modal hidden">
  <div class="modal-overlay"></div>

  <div class="modal-content">
    <button class="modal-close" id="close-help">âœ•</button>

    <h2>ğŸ“˜ Instrucciones de uso</h2>

    <section>
      <h3>ğŸ§± Bloques</h3>
      <ul>
        <li>Click izquierdo: insertar el bloque en el cursor</li>
        <li>Click derecho: editar bloque</li>
        <li>Shift + click derecho: eliminar bloque</li>
        <li>â­ Marca favoritos para acceso rÃ¡pido</li>
      </ul>
    </section>

    <section>
      <h3>âœï¸ Editor</h3>
      <ul>
        <li>El texto se guarda automÃ¡ticamente</li>
        <li>La inserciÃ³n respeta la posiciÃ³n del cursor</li>
        <li>Puedes escribir libremente y mezclar bloques</li>
      </ul>
    </section>

    <section>
      <h3>ğŸ”® Sugerencias</h3>
      <p>
        Las sugerencias se basan en combinaciones previas de bloques.
        No se usa IA externa.
      </p>
    </section>

    <section>
      <h3>ğŸ’¾ Plantillas</h3>
      <ul>
        <li>Guarda combinaciones frecuentes</li>
        <li>RecupÃ©ralas con un solo click</li>
      </ul>
    </section>

    <section>
      <h3>â˜ï¸ Backup</h3>
      <p>
        Puedes exportar / importar JSON o guardar todo en un GitHub Gist.
        El token se guarda solo en tu navegador.
      </p>
    </section>
  </div>
</div>

    <script src="app.js"></script>
</body>
</html>