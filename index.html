<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Builder for Devs | MVP</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="main-header">
        <h1><span>Prompt</span>Builder <span></span></h1>
        <div class="header-actions">
            <button id="open-help" class="btn btn-outline">‚ùì Instrucciones</button>
            <button id="gist-save" class="btn btn-outline">‚òÅ Guardar en Gist</button>
            <button id="restore-from-gist" class="btn btn-outline">
                ‚¨áÔ∏è Restaurar desde Gist
            </button>

            <button id="export-json" class="btn btn-outline">‚¨á Exportar</button>
            <button id="import-json" class="btn btn-outline">‚¨Ü Importar</button>
            <input type="file" id="import-file" accept="application/json" hidden />
            <button id="save-combination" class="btn btn-accent">üíæ Guardar Combinaci√≥n y Entrenar</button>
            <button id="clear-all" class="btn btn-danger">Limpiar Todo</button>
            <button id="reset-app" class="btn btn-outline">Reset</button>
        </div>
    </header>

    <main class="app-container">
        <aside class="sidebar">
            <input
  type="text"
  id="block-search"
  placeholder="Buscar bloques..."
  class="block-search"
/>
            <h2>Librer√≠a de Bloques 
                <span id="total-blocks-count" class="count-badge">0</span>
            </h2>
             <div id="taxonomy-nav" class="tabs">
       
    </div>
            <div id="blocks-grid" class="blocks-grid">
                <div class="block-card" onclick="toggleBlock('b1')">
            <strong>Senior Architect</strong>
            <p style="font-size: 0.7rem; color: var(--text-dim); margin-top:5px">
                Act√∫a como un arquitecto frontend senior...
            </p>
        </div>
                </div>
            
        </aside>

        <section class="editor-section">
            <div class="section-header">
                <h2>Prompt Final</h2>
                <span id="selected-count" class="badge">0 bloques</span>
                <div class="actions">
                    <button id="ai-clean-btn" class="btn btn-ai">‚ú® Limpiar y Reestructurar</button>
                    <button id="copy-btn" class="btn btn-secondary">Copiar al portapapeles</button>
                </div>
            </div>
            <textarea id="main-prompt" placeholder="Construye tu prompt haciendo click en los bloques o escribe aqu√≠..."></textarea>
        </section>
<aside class="right-column">
       
        <aside class="templates-panel">
            <div class="panel-section">
                <h3>üìö Plantillas</h3>
                <div id="templates-list" class="template-list">
                    <p class="tip">A√∫n no hay plantillas guardadas.</p>
                </div>
            </div>
        </aside>
        <aside class="side-panel">
            <div class="panel-section">
                <h3>üîÆ Sugerencias</h3>
                <div id="predictions" class="prediction-stack"><p class="tip">Usa bloques para generar predicciones.</p></div>
            </div>
            <div class="panel-section">
                <h3>üìä Contexto</h3>
                <div id="active-tags" class="tag-cloud"></div>
            </div>
        </aside>
        </aside>

        <aside class="ai-tools">
            <div class="tool-card">
                <h3>Descomposici√≥n de C√≥digo</h3>
                <p class="tool-desc">Pega una clase o entidad para extraer l√≥gica.</p>
                <textarea id="code-input" placeholder="Pega tu c√≥digo aqu√≠..."></textarea>
                <button id="deconstruct-btn" class="btn btn-primary">Descomponer C√≥digo</button>
                <div class="result-area">
                    <label>Resultado:</label>
                    <textarea id="code-output" readonly></textarea>
                    <button id="insert-analysis-btn" class="btn btn-small">Insertar en Prompt</button>
                </div>
            </div>

            <div class="add-custom-block">
                <h3>+ Nuevo Bloque</h3>
                <select id="new-block-group">
                    <option value="Rol / Perfil">Rol / Perfil</option>
                    <option value="Objetivo / Tarea">Objetivo / Tarea</option>
                    <option value="Alcance funcional">Alcance funcional</option>
                    <option value="Plataforma / Stack">Plataforma / Stack</option>
                    <option value="Lenguaje">Lenguaje</option>
                    <option value="Componentes">Componentes</option>
                    <option value="UI / Layout">UI / Layout</option>
                    <option value="Arquitectura">Arquitectura</option>
                    <option value="Estilo visual">Estilo visual</option>
                    <option value="Restricciones">Restricciones</option>
                    <option value="Output">Output</option>
                    <option value="Complejidad">Complejidad</option>
                    <option value="Contexto">Contexto</option>
                </select>

                <input type="text" id="new-block-title" placeholder="T√≠tulo...">
                <textarea id="new-block-content" placeholder="Contenido del bloque..."></textarea>
                <button id="add-block-btn" class="btn btn-primary">Guardar Bloque</button>
            </div>
        </aside>
    </main>
<div id="help-modal" class="modal hidden">
  <div class="modal-overlay"></div>

  <div class="modal-content">
    <button class="modal-close" id="close-help">‚úï</button>

    <h2>üìò Instrucciones de uso</h2>

    <section>
      <h3>üß± Bloques</h3>
      <ul>
        <li>Click izquierdo: insertar el bloque en el cursor</li>
        <li>Click derecho: editar bloque</li>
        <li>Shift + click derecho: eliminar bloque</li>
        <li>‚≠ê Marca favoritos para acceso r√°pido</li>
      </ul>
    </section>

    <section>
      <h3>‚úèÔ∏è Editor</h3>
      <ul>
        <li>El texto se guarda autom√°ticamente</li>
        <li>La inserci√≥n respeta la posici√≥n del cursor</li>
        <li>Puedes escribir libremente y mezclar bloques</li>
      </ul>
    </section>

    <section>
      <h3>üîÆ Sugerencias</h3>
      <p>
        Las sugerencias se basan en combinaciones previas de bloques.
        No se usa IA externa.
      </p>
    </section>

    <section>
      <h3>üíæ Plantillas</h3>
      <ul>
        <li>Guarda combinaciones frecuentes</li>
        <li>Recup√©ralas con un solo click</li>
      </ul>
    </section>

    <section>
      <h3>‚òÅÔ∏è Backup</h3>
      <p>
        Puedes exportar / importar JSON o guardar todo en un GitHub Gist.
        El token se guarda solo en tu navegador.
      </p>
    </section>

    <section>
  <h3>‚ö†Ô∏è Persistencia y archivos locales</h3>
  <p>
    Si usas la aplicaci√≥n abriendo <code>index.html</code> directamente
    (<code>file://</code>), el almacenamiento depende de la ruta del archivo.
  </p>
  <p>
    Mover la carpeta o abrirla desde otra ubicaci√≥n puede hacer que la app
    aparezca vac√≠a.
  </p>
  <p>
    Para evitar p√©rdida de datos:
  </p>
  <ul>
    <li>Usa un servidor local (<code>localhost</code>)</li>
    <li>Guarda backups en GitHub Gist</li>
    <li>Exporta tu configuraci√≥n en JSON</li>
  </ul>
</section>
  </div>
</div>

    <script src="app.js"></script>
</body>
</html>